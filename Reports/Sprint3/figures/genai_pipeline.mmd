%%{init: {'theme': 'neutral', 'themeVariables': { 'fontSize': '14px' }}}%%
flowchart TD
    subgraph PRE["Pre-Generation (Python)"]
        CONFIG[config.json] --> OLLAMA[Ollama / mistral-nemo]
        CONFIG --> MUSICGEN[MusicGen Medium]
        CONFIG --> XTTS[XTTS v2]
    end

    OLLAMA --> NARR[narrative.json]
    MUSICGEN --> MUSIC[music.wav]
    XTTS --> VOICE[voice_*.wav]

    subgraph ASSETS["StreamingAssets/"]
        NARR
        MUSIC
        VOICE
    end

    ASSETS --> LOADER

    subgraph UNITY["Runtime (Unity C#)"]
        LOADER[ContentLoader] --> MGR[Managers] --> UI[DialogueUI]
    end
